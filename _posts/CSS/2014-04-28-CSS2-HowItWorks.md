---
layout: default
tags: css
title: CSS学习笔记2--CSS工作原理
---

# CSS学习笔记2--CSS工作原理 #

摘录于[CSS设计指南](http://book.douban.com/subject/23123255/)

## ID和类选择符 ##
**什么时候用ID，什么时候用类？**

* 当只想为某一个元素以及其子元素应用CSS规则同时不影响其他元素时，使用ID。
* 当想要为具有相同特征的元素应用CSS规则时，使用类。

##上下文选择符## 
上下文选择符以空格作为分隔符，而分组选择符则以逗号作为分隔符。

上下文选择符是以某个祖先标签作为上下文，只要有标签在它的层次结构“上游”存在这么一个祖先，那么就会选中该标签。无论从该标签到作为祖先的上下文之间隔着多少层次都没有关系。

子选择符 "标签1 `>` 标签2" 和上下文选择符之间的区别在于子选择符标签1是标签2的直接父元素。

## 属性选择符 ##
* 属性名选择符
	**什么时候使用属性名选择符？**
	比如，可以在用户鼠标移动到这些图片上时，此时浏览器会显示一个（利用 `title` 属性中的文本生成的）提示条。一般来说，人们会经常给 `alt` 和 `title` 属性设定相同的值。

* 属性值选择符
	这个选择符可以让你控制到属性的值是什么。


	备注：观察标签名、类名、ID、属性或属性值，可以看到粒度越来越小。

## 伪类 ##

* UI(User Interface，用户界面)伪类会在Html处于某个状态时（比如鼠标指针位于链接上），为该元素应用CSS样式。
* 结构化伪类会在标记中存在某种结构上的关系时（如某个元素是一组元素中的第一个或最后一个），为相应元素应用CSS样式。

### UI伪类 ###
UI伪类有三种：链接伪类、`:focus` 伪类、`:target` 伪类。

大部分情况下，链接伪类中使用 `:link` 和 `:hover` 就足够了，但如果你有一个长长的目录链接，那么用稍浅一些的颜色显示那些已经访问过的链接，对用户会很有帮助。

如果用户点击一个指向页面中其他元素的链接，则那个元素就是目标（target），可以用 `:target` 伪类选中它，为其应用CSS样式。

维基百科在其引证中大量使用了 `:target` 伪类。维基百科的引证链接就是正文里那些不起眼的数字链接。引证本身则位于长长的页面的最下方。如果没有 `:target` 应用的突出显示，很难知道你点击的链接对应着一大堆引证中的哪一个。

### 结构化伪类 ###
结构化伪类有三种 `:first-child`、`:last-child`、`:nth-child(n)`。

`:nth-child(n)` 伪类常用于提供表格的可读性。比如对表格的所有行交替应用不同颜色。n表示一个数值（也可以使用`odd`或`even`）

## 伪元素 ##
伪元素就是你的文档中若有若无的元素。

伪元素有四种：`::first-letter`、`:first-line`、`::before`、`::after`。

`::first-letter` 伪元素可以做到首字符放大的效果，如果不使用该伪元素而希望得到同样的效果，那么必须手工给该字母加上 `span` 标签，然后再为该标签应用样式。而伪元素实际上是替我们添加了无形的标签。

`:first-line` 伪元素的长度会随浏览器窗口大小的变化而改变。

`::before`、`::after` 可用于在特定元素前面或后面添加特殊内容。适用场景：比如如果标签中的内容都是通过数据库查询生成的结果，因为所有结果都是数字，使用这两个伪元素可以把数字呈现给用户时，加上说明性文字。

搜索引擎不会取得伪元素的信息（因为它在标记中并不存在）。因此，不要通过伪元素添加你想让搜索引擎索引的重要内容。

## 层叠规则 ##

两种记忆层叠规则的阐述：

###阐述一###

* 规则一：包含ID的选择符胜过包含类的选择符，包含类的选择符胜过包含标签名的选择符。
* 规则二：如果几个不同来源都为同一个标签的同一个属性定义了样式，行内样式胜过嵌入样式，嵌入样式胜过链接样式。在链接的样式表中，具有同样特指度的样式，后声明的胜过先声明的。**规则一胜过规则二。换句话说，如果选择符更明确（特指度更高），无论它在哪里，都会胜出。**
* 规则三：设定的样式胜过继承的样式，此时不用考虑特指度（即显式设定的优先）。

###阐述二###

* 规则一：找到应用给每个元素和属性的所有声明。浏览器在加载每个页面时，都会据此查到每一条CSS规则，标识出所有受到影响的Html元素。
* 规则二：按照顺序和权重排序。浏览器依次检查5个来源，并设定匹配的属性。
* 规则三：按特指度排序。
* 规则四：顺序决定权重。如果两条规则都影响某元素的同一个属性，而且它们的特指度也相同，则位置最靠下（或后声明）的规则胜出。


备注：阐述二从浏览器角度解释了在遇到受CSS影响的Html元素所会进行的每一步工作。理解阐述二，并以阐述一为辅，会对层叠规则有一个更好的理解。



