---
layout: default
tags: css
title: CSS学习笔记3--定位元素
---

# CSS学习笔记3--定位元素 #

摘录于[CSS设计指南](http://book.douban.com/subject/23123255/)

## 外边距和内边距 ##
**由于不同浏览器默认的内边距和外边距不一样**，使用 `* {margin:0; padding:0}` 这条规则“中和”默认值，然后根据需要添加，则会在各浏览器上获得一致的效果。

垂直方向上的外边距会发生叠加，水平方向上的外边距不会发生叠加。
**为什么会有这样的效果产生？**
如果有一连串段落都被应用了相同的样式，那么对其中第一段和最后一段来说，它们的上外边距和下外边距决定了它们与包含元素的间距。而那些位于中间的段落呢，根本不需要两个外边距加起来那么宽的间距。

为**文本元素**设置外边距时通常需要混合使用不同的单位。比如说，一个段落的左、右外边距可以使用像素，以便该段文本始终与包含元素边界保持固定间距，不受字号变大或变小的影响。而对于上、下外边距，以em为单位则可以让段间距随字号变化而相应增大或缩小。
	

## 盒子的大小 ##
没有（就是没有设置 `width` 的）宽度的元素始终会扩展到填满其父元素的宽度为止。添加水平边框、内边距和外边距，会导致内容宽度减少，减少量等于水平边框、内边距和外边距的和。

为设定了宽度的盒子添加边框、内边距和外边距，会导致盒子扩展得更宽。实际上，盒子的width 属性设定的只是盒子内容区的宽度，而非盒子要占据的水平宽度。

## 浮动与清除 ##

### 浮动（float）###
浮动的内容脱离了文档流，浏览器会将浮动的内容往上方推，直到它碰到其父元素的内边界。由于浮动元素脱离了文档流，其父元素也看不到它了，因而也不会包围它。

围住浮动元素：

* 存在父元素：

方法|使用情景
---|---
为父元素添加 `overflow:hidden` |子元素不会显示父元素区域的外部，比如下拉菜单则不可使用该方法
浮动父元素|父元素不是靠自动外边距居中的元素
在父元素内容的末尾添加非浮动元素|适用于任何场景

* 不存在父元素：
在父元素内容的末尾添加非浮动元素。

### 清除（clear）###
被清除的元素不会被提升到浮动元素的旁边。

## 定位 ##

### 定位上下文 ###

把元素的position属性设定为 `relative` 、 `absolute` 或 `fixed` 后，继而可以使用 `top` 、 `right` 、 `bottom` 和 `left` 属性，相对于另一个元素移动该元素的位置。这里的“另一个元素”，就是该元素的定位上下文。

绝对定位元素默认的定位上下文是body。这是因为body是标记中所有元素唯一的祖先元素。而实际上，绝对定位元素的任何祖先元素都可以成为它的定位上下文，只要你把相应祖先元素的positon设定为 `relative` 即可。

在常规文档流中，内外部元素默认都是静态定位，它们之间不存在谁是谁的定位上下文这个问题。如果外部元素没有内容，内部元素就会跟它共享相同的起点。

## 显示属性 ##

把元素的display设定为 `none` ，该元素及所有包含在其中的元素，都不会在页面中显示。它们原先占据的所有空间也都会被**“回收”，就好象相关的标记根本不存在一样**。与此相对的是visibility属性，把这个属性设定为 `hidden` ，元素会隐藏，但它占据的页面空间仍然**“虚位以待”**。

## 背景 ##

每个元素盒子都可以想象成有两个图层组成。元素的前背景层包含内容（如文本或图片）和边框，元素的背景层可以用实色填充（使用backgroun-color属性），也可以包含任意多个背景图片（使用background-image属性），背景图片叠加在背景颜色之上。

### 背景颜色 ###

background-color可以设定元素的颜色。然后，元素就会以设定的颜色填充背景图层。

前景色即影响文本，也影响边框。有一个前提条件，就是在使用border设定边框的样式和宽度，而没有设定边框颜色的情况下，边框会使用color属性设定的字体颜色，默认颜色是黑色。

### 背景图片 ###

background-image:url(图片路径/图片文件名)

注意，指定背景图片来源的方式和 img 标签中的方式不同。默认情况下背景图片会以元素左上角为起点，沿水平和垂直方向重复出现，最终填满整个背景区域。

### 背景重复 ###

background-repeat 属性有四个值： `repeat` 、 `repeat-x` 、 `repeat-y` 和 `no-repeat` 。

### 背景位置 ###

background-position 属性有五个关键字值： `top` 、 `left` 、 `bottom` 、 `right` 和 `center` 。这些关键字中的任意两个组合起来都可以作为该属性的的值。

background-position 属性同时设定元素和图片的原点。原点决定了元素与图片中某一点的水平和垂直坐标。默认情况下，backgroud-position 的原点位于左上角。

设定背景位置时可以使用三种值：关键字、百分比、绝对或相对单位的数值。可以使用两个值分别设定水平和垂直位置。为了设定的值在所有浏览器中都有效，**最好不要混用关键字值和数字值**。

使用数值时，只设定了一个值，则将其用来设定水平位置，而垂直位置会被设为 `center` 。

使用像素单位来设定位置，那么图片的左上角会被放在距离左上角指定位置的地方。可以使用负值或者足够大的正值，将图片部分推到元素外部，位于元素外部的那部分图片不会显示。

### 背景尺寸 ###

background-size 用来控制背景图片的尺寸。

* 50%：缩放图片，使其填充背景区的一半。
* 100px 50px：把图片调整到100像素宽，50像素高。
* cover：拉大图片，使其完全填满背景区；保持高度比。
* contain：缩放图片，使其恰好适合背景区；保持高度比。

### 背景粘附 ###

background-attachment 属性控制滚动元素内的背景图片是否随元素滚动而移动。这个属性的默认值是 `scroll` ，即背景图片随元素移动。如果将它的值改为 `fixed` ，那么背景图片不会随元素滚动而移动。

background-attachment:fixed 最常用于给body元素中心位置添加淡色水印，让水印不随页面滚动而移动。

	如果给其他元素的background-attachment设为fixed，比如标签p，随着页面的滚动，
	标签p内的背景不会发生移动，当标签p不在当前页面时，背景也会离开当前页面噢，
	换句话说，fixed只作用于某个元素内。

## 多背景图片 ##

多张图片可以在背景中叠加起来，CSS规则中先列出图片在上层。

## 背景渐变 ##

渐变分两种，一种线性渐变，一种放射性渐变。线性渐变从元素的一段延伸到另一端，放射性渐变则从元素内一点向四周发散。

### 渐变点（线性渐变） ###

渐变点就是渐变方向上的点，可以在这些点上设定颜色和不透明度。通过设定下一个渐变点的颜色值，就可以控制渐变的效果。可以添加任意多个渐变点。渐变点的位置一般使用整个渐变宽度的百分比来表示。

开始和结束位置如果没有声明，则默认为0%和100%。

如果不是使用百分比或其他值声明渐变点的位置，则三种颜色会均匀分布于整个渐变，其实际位置是0%、50%和100%。

### 放射性渐变 ###

在创建放射性渐变时，可以使用参数指定形状、位置、尺寸、颜色和不透明度。

默认效果下，元素是矩形，渐变效果会填充元素。元素是正方形，渐变就是圆形。




